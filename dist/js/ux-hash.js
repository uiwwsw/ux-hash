"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var UxHash=function(){function n(e,t){_classCallCheck(this,n),this.id=Math.random().toString(36).substr(2,9),this.querySelector=e,this.keys=t.map(function(e){return e.key}),this.colors=t.map(function(e){return e.color}),this.bgs=t.map(function(e){return e.bg}),this.wrapperElement=document.querySelector(this.querySelector),this.textareaElement=document.createElement("textarea"),this.displayElement=document.createElement("div"),this.makeStyle(),this.wrapperElement.appendChild(this.textareaElement),this.wrapperElement.appendChild(this.displayElement),this.displayElement.style.right=this.textareaElement.scrollWidth-this.textareaElement.clientWidth+"px",this.textareaElement.onkeyup=this.keyEvent.bind(this),this.textareaElement.onscroll=this.scrollEvent.bind(this)}return _createClass(n,[{key:"makeStyle",value:function(){var e="overflow: auto;overflow-x: hidden;display: block !important;height: 100%;margin: 0;padding: 1em;box-sizing: border-box;border: 0;line-height: inherit;word-spacing: inherit;color: inherit;font: inherit;resize: none;outline: none;word-break: initial;white-space: pre-wrap;";this.wrapperElement.style.position="relative",this.wrapperElement.style.fontSize="12px",this.textareaElement.setAttribute("style",e+"width: 100%;"),this.displayElement.setAttribute("style",e+"z-index:2;position: absolute;top: 0;right: 0;left: 0;overflow: hidden;color: transparent;pointer-events: none;")}},{key:"scrollEvent",value:function(){this.displayElement.scrollTop=this.textareaElement.scrollTop,this.textareaElement.scrollTop=this.displayElement.scrollTop}},{key:"mask",value:function(){var r=this,i="";return this.textareaElement.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").split("\n").forEach(function(e,t){i+=0===t?"":"\n",e.split(" ").forEach(function(e,t){i+=0===t?"":" ";var n=r.keys.indexOf(e[0]);i+=-1===n?e:'<span style="margin: -.1em;padding: 0 .1em;border-radius: 1em;color:'.concat(r.colors[n],";background:").concat(r.bgs[n],';">').concat(e,"</span>")})}),i+"\n\n"}},{key:"keyEvent",value:function(){this.displayElement.innerHTML=this.mask(),this.scrollEvent()}}],[{key:"keyEvent",value:function(e,t){var n=document.querySelector(e),r=n.querySelector("textarea"),i=n.querySelector("div"),a=n.querySelector("textarea").value,l=t.map(function(e){return e.key}),o=t.map(function(e){return e.color}),s=t.map(function(e){return e.bg}),c="";a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").split("\n").forEach(function(e,t){c+=0===t?"":"\n",e.split(" ").forEach(function(e,t){c+=0===t?"":" ";var n=l.indexOf(e[0]);c+=-1===n?e:'<span style="margin: -.1em;padding: 0 .1em;border-radius: 1em;color:'.concat(o[n],";background:").concat(s[n],';">').concat(e,"</span>")})}),i.scrollTop=r.scrollTop,r.scrollTop=i.scrollTop,i.innerHTML=c+"\n\n"}}]),n}();exports.default=UxHash;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIlV4SGFzaCIsInF1ZXJ5U2VsZWN0b3IiLCJ0aGVtZXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJrZXlzIiwibWFwIiwidGhlbWUiLCJrZXkiLCJjb2xvcnMiLCJjb2xvciIsImJncyIsImJnIiwid3JhcHBlckVsZW1lbnQiLCJkb2N1bWVudCIsInRleHRhcmVhRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkaXNwbGF5RWxlbWVudCIsIm1ha2VTdHlsZSIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJyaWdodCIsInNjcm9sbFdpZHRoIiwiY2xpZW50V2lkdGgiLCJvbmtleXVwIiwia2V5RXZlbnQiLCJiaW5kIiwib25zY3JvbGwiLCJzY3JvbGxFdmVudCIsImNvbW1vblN0eWxlIiwicG9zaXRpb24iLCJmb250U2l6ZSIsInNldEF0dHJpYnV0ZSIsInNjcm9sbFRvcCIsIl90aGlzIiwicmVzIiwidmFsdWUiLCJyZXBsYWNlIiwic3BsaXQiLCJmb3JFYWNoIiwibGluZSIsImkiLCJ3b3JkIiwiaiIsImluZGV4IiwiaW5kZXhPZiIsImNvbmNhdCIsImlubmVySFRNTCIsIm1hc2siXSwibWFwcGluZ3MiOiJxZUFDTUEsa0JBU0YsU0FBQUEsRUFBWUMsRUFBdUJDLEdBQWVDLGdCQUFBQyxLQUFBSixHQUM5Q0ksS0FBS0MsR0FBS0MsS0FBS0MsU0FBU0MsU0FBUyxJQUFJQyxPQUFPLEVBQUcsR0FDL0NMLEtBQUtILGNBQWdCQSxFQUNyQkcsS0FBS00sS0FBT1IsRUFBT1MsSUFBSSxTQUFDQyxHQUFELE9BQWtCQSxFQUFNQyxNQUMvQ1QsS0FBS1UsT0FBU1osRUFBT1MsSUFBSSxTQUFDQyxHQUFELE9BQWtCQSxFQUFNRyxRQUNqRFgsS0FBS1ksSUFBTWQsRUFBT1MsSUFBSSxTQUFDQyxHQUFELE9BQWtCQSxFQUFNSyxLQUM5Q2IsS0FBS2MsZUFBaUJD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bnQiOlsiZXhwb3J0IGRlZmF1bHRcbmNsYXNzIFV4SGFzaCB7XG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nO1xuICAgIHByaXZhdGUgcXVlcnlTZWxlY3Rvcjogc3RyaW5nO1xuICAgIHByaXZhdGUgd3JhcHBlckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICAgIHByaXZhdGUgdGV4dGFyZWFFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHByaXZhdGUgZGlzcGxheUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICAgIHByaXZhdGUga2V5czogc3RyaW5nW107XG4gICAgcHJpdmF0ZSBjb2xvcnM6IHN0cmluZ1tdO1xuICAgIHByaXZhdGUgYmdzOiBzdHJpbmdbXTtcbiAgICBjb25zdHJ1Y3RvcihxdWVyeVNlbGVjdG9yOiBzdHJpbmcsIHRoZW1lczogVGhlbWVbXSkge1xuICAgICAgICB0aGlzLmlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IgPSBxdWVyeVNlbGVjdG9yO1xuICAgICAgICB0aGlzLmtleXMgPSB0aGVtZXMubWFwKCh0aGVtZTogVGhlbWUpID0+IHRoZW1lLmtleSk7XG4gICAgICAgIHRoaXMuY29sb3JzID0gdGhlbWVzLm1hcCgodGhlbWU6IFRoZW1lKSA9PiB0aGVtZS5jb2xvcik7XG4gICAgICAgIHRoaXMuYmdzID0gdGhlbWVzLm1hcCgodGhlbWU6IFRoZW1lKSA9PiB0aGVtZS5iZyk7XG4gICAgICAgIHRoaXMud3JhcHBlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucXVlcnlTZWxlY3RvcikgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIHRoaXMudGV4dGFyZWFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLm1ha2VTdHlsZSgpO1xuICAgICAgICB0aGlzLndyYXBwZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudGV4dGFyZWFFbGVtZW50KTtcbiAgICAgICAgdGhpcy53cmFwcGVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmRpc3BsYXlFbGVtZW50KTtcbiAgICAgICAgdGhpcy5kaXNwbGF5RWxlbWVudC5zdHlsZS5yaWdodCA9IHRoaXMudGV4dGFyZWFFbGVtZW50LnNjcm9sbFdpZHRoIC0gdGhpcy50ZXh0YXJlYUVsZW1lbnQuY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLnRleHRhcmVhRWxlbWVudC5vbmtleXVwID0gdGhpcy5rZXlFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHRhcmVhRWxlbWVudC5vbnNjcm9sbCA9IHRoaXMuc2Nyb2xsRXZlbnQuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBtYWtlU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IGNvbW1vblN0eWxlID0gJ292ZXJmbG93OiBhdXRvO292ZXJmbG93LXg6IGhpZGRlbjtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMWVtO2JveC1zaXppbmc6IGJvcmRlci1ib3g7Ym9yZGVyOiAwO2xpbmUtaGVpZ2h0OiBpbmhlcml0O3dvcmQtc3BhY2luZzogaW5oZXJpdDtjb2xvcjogaW5oZXJpdDtmb250OiBpbmhlcml0O3Jlc2l6ZTogbm9uZTtvdXRsaW5lOiBub25lO3dvcmQtYnJlYWs6IGluaXRpYWw7d2hpdGUtc3BhY2U6IHByZS13cmFwOydcbiAgICAgICAgdGhpcy53cmFwcGVyRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIHRoaXMud3JhcHBlckVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XG4gICAgICAgIHRoaXMudGV4dGFyZWFFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjb21tb25TdHlsZSArICd3aWR0aDogMTAwJTsnKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29tbW9uU3R5bGUgKyAnei1pbmRleDoyO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDA7cmlnaHQ6IDA7bGVmdDogMDtvdmVyZmxvdzogaGlkZGVuO2NvbG9yOiB0cmFuc3BhcmVudDtwb2ludGVyLWV2ZW50czogbm9uZTsnICk7XG4gICAgfVxuXG4gICAgc2Nyb2xsRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheUVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy50ZXh0YXJlYUVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLnRleHRhcmVhRWxlbWVudC5zY3JvbGxUb3AgPSB0aGlzLmRpc3BsYXlFbGVtZW50LnNjcm9sbFRvcDtcbiAgICB9XG5cbiAgICBzdGF0aWMga2V5RXZlbnQocXVlcnlTZWxlY3Rvcjogc3RyaW5nLCB0aGVtZXM6IFRoZW1lW10pIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5U2VsZWN0b3IpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICBjb25zdCB0ZXh0YXJlYUVsZW1lbnQgPSB3cmFwcGVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlFbGVtZW50ID0gd3JhcHBlckVsZW1lbnQucXVlcnlTZWxlY3RvcignZGl2JykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gd3JhcHBlckVsZW1lbnQucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSEudmFsdWU7XG4gICAgICAgIGNvbnN0IGtleXMgPSB0aGVtZXMubWFwKCh0aGVtZTogVGhlbWUpID0+IHRoZW1lLmtleSk7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoZW1lcy5tYXAoKHRoZW1lOiBUaGVtZSkgPT4gdGhlbWUuY29sb3IpO1xuICAgICAgICBjb25zdCBiZ3MgPSB0aGVtZXMubWFwKCh0aGVtZTogVGhlbWUpID0+IHRoZW1lLmJnKTtcbiAgICAgICAgbGV0IHJlcyA9ICcnO1xuICAgICAgICB2YWx1ZS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIikuc3BsaXQoJ1xcbicpLmZvckVhY2goKGxpbmU6IHN0cmluZywgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZXMgKz0gKGkgPT09IDAgPyAnJyA6ICdcXG4nKTtcbiAgICAgICAgICAgIGxpbmUuc3BsaXQoJyAnKS5mb3JFYWNoKCh3b3JkOiBzdHJpbmcsIGo6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlcyArPSAoaiA9PT0gMCA/ICcnIDogJyAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleXMuaW5kZXhPZih3b3JkWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSB3b3JkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgICAgICAgICAgICByZXMgKz0gYDxzcGFuIHN0eWxlPVwibWFyZ2luOiAtLjFlbTtwYWRkaW5nOiAwIC4xZW07Ym9yZGVyLXJhZGl1czogMWVtO2NvbG9yOiR7Y29sb3JzW2luZGV4XX07YmFja2dyb3VuZDoke2Jnc1tpbmRleF19O1wiPiR7d29yZH08L3NwYW4+YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlzcGxheUVsZW1lbnQuc2Nyb2xsVG9wID0gdGV4dGFyZWFFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgdGV4dGFyZWFFbGVtZW50LnNjcm9sbFRvcCA9IGRpc3BsYXlFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgZGlzcGxheUVsZW1lbnQuaW5uZXJIVE1MID0gcmVzICsgJ1xcblxcbic7XG4gICAgfVxuXG4gICAgbWFzaygpIHtcbiAgICAgICAgbGV0IHJlcyA9ICcnO1xuICAgICAgICB0aGlzLnRleHRhcmVhRWxlbWVudC52YWx1ZS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIikuc3BsaXQoJ1xcbicpLmZvckVhY2goKGxpbmU6IHN0cmluZywgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZXMgKz0gKGkgPT09IDAgPyAnJyA6ICdcXG4nKTtcbiAgICAgICAgICAgIGxpbmUuc3BsaXQoJyAnKS5mb3JFYWNoKCh3b3JkOiBzdHJpbmcsIGo6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlcyArPSAoaiA9PT0gMCA/ICcnIDogJyAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKHdvcmRbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IHdvcmQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IGA8c3BhbiBzdHlsZT1cIm1hcmdpbjogLS4xZW07cGFkZGluZzogMCAuMWVtO2JvcmRlci1yYWRpdXM6IDFlbTtjb2xvcjoke3RoaXMuY29sb3JzW2luZGV4XX07YmFja2dyb3VuZDoke3RoaXMuYmdzW2luZGV4XX07XCI+JHt3b3JkfTwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzICsgJ1xcblxcbic7XG4gICAgfVxuXG4gICAga2V5RXZlbnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheUVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5tYXNrKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsRXZlbnQoKTtcbiAgICB9XG59XG50eXBlIFRoZW1lID0ge1xuICAgIGJnOnN0cmluZyxcbiAgICBjb2xvcjpzdHJpbmcsXG4gICAga2V5OnN0cmluZ1xufSJdfQ==
